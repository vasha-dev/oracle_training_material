# Oracle 26AI Software Installation Guide (RHEL 8/9)

## Overview

There are two options when it comes to downloading the needed RPMs:

1. Download them from the [Oracle 26AI downloads page](https://www.oracle.com/database/technologies/oracle26ai-linux-downloads.html)
2. Use our internal custom repository to pull these packages

This guide covers option 2 using the internal repository.

## Prerequisites

### Extend /opt Filesystem

Extend `/opt` to at least 30GB:
```bash
lvextend -r -L +24G /dev/mapper/vgRoot-lvOpt
```

## Installation Steps

### Step 1: Enable Oracle 26AI Repository

List and enable the Oracle 26AI repository automatically:
```bash
REPO=$(subscription-manager repos --list | grep "Repo ID:" | grep "oracle-ai-database-ee-26ai" | awk '{print $3}') && subscription-manager repos --enable $REPO
```

### Step 2: Install Oracle 26AI Preinstall Package

Install the preinstall package:
```bash
dnf install oracle-ai-database-preinstall-26ai
```

### Step 3: Install Required Packages and Validate Environment

Install all needed packages and validate that the environment is compliant with Oracle 26AI standards:
```bash
bash -c 'echo -e "\033[1;33m=== Oracle 26AI Prerequisites Installation and Validation Starting ===\033[0m"; echo -e "\033[1;36m=== Using Official Oracle Documentation Package Lists ===\033[0m"; echo -e "\033[1;36m=== Source: docs.oracle.com/en/database/oracle/oracle-database/26/ladbi/ ===\033[0m"; if [ "$(id -u)" -ne 0 ]; then echo -e "\033[1;31m=== ERROR: This script must be run as root ===\033[0m"; exit 1; fi; if [ -f /etc/os-release ]; then . /etc/os-release; OS_NAME="${NAME}"; OS_VERSION="${VERSION_ID}"; OS_MAJOR_VERSION="${VERSION_ID%%.*}"; KERNEL_VERSION=$(uname -r); echo -e "\033[1;36m=== Detected OS: ${OS_NAME} ${OS_VERSION} (Major: ${OS_MAJOR_VERSION}) ===\033[0m"; echo -e "\033[1;36m=== Kernel Version: ${KERNEL_VERSION} ===\033[0m"; else echo -e "\033[1;31m=== ERROR: Cannot determine OS version ===\033[0m"; exit 1; fi; if [[ ! "${OS_NAME}" =~ (Red Hat Enterprise Linux|Oracle Linux) ]]; then echo -e "\033[1;31m=== ERROR: Unsupported OS: ${OS_NAME}. This script supports RHEL/Oracle Linux 8 or 9 only ===\033[0m"; exit 1; fi; if [[ "${OS_MAJOR_VERSION}" != "8" && "${OS_MAJOR_VERSION}" != "9" ]]; then echo -e "\033[1;31m=== ERROR: Unsupported OS version: ${OS_VERSION}. This script supports RHEL/Oracle Linux 8 or 9 only ===\033[0m"; exit 1; fi; echo -e "\033[1;36m=== Validating minimum kernel version per Oracle 26AI requirements ===\033[0m"; MIN_KERNEL_RHEL8="4.18.0-80"; MIN_KERNEL_RHEL9="5.14.0-70.22.1"; if [ "${OS_MAJOR_VERSION}" == "8" ]; then REQUIRED_KERNEL="${MIN_KERNEL_RHEL8}"; elif [ "${OS_MAJOR_VERSION}" == "9" ]; then REQUIRED_KERNEL="${MIN_KERNEL_RHEL9}"; fi; CURRENT_KERNEL_BASE=$(echo ${KERNEL_VERSION} | sed "s/\.el[0-9].*//"); if [[ "$(printf "%s\n" "${REQUIRED_KERNEL}" "${CURRENT_KERNEL_BASE}" | sort -V | head -n1)" != "${REQUIRED_KERNEL}" ]]; then echo -e "\033[1;31m=== WARNING: Kernel ${KERNEL_VERSION} may be older than Oracle required ${REQUIRED_KERNEL} ===\033[0m"; else echo -e "\033[1;32m=== Kernel version ${KERNEL_VERSION} meets Oracle 26AI minimum requirement ===\033[0m"; fi; echo -e "\033[1;36m=== Clearing DNF cache ===\033[0m"; if ! dnf clean all -q; then echo -e "\033[1;31m=== ERROR: Failed to clear DNF cache ===\033[0m"; exit 1; fi; echo -e "\033[1;32m=== DNF cache cleared successfully ===\033[0m"; OPTIONAL_PACKAGES=(ipmiutil libnsl2-devel); if [ "${OS_MAJOR_VERSION}" == "8" ]; then echo -e "\033[1;36m=== Installing Oracle 26AI prerequisite packages for RHEL 8 (Official Oracle List) ===\033[0m"; REQUIRED_PACKAGES=(bc binutils compat-openssl10 elfutils-libelf fontconfig glibc glibc-devel ksh libaio libXrender libX11 libXau libXi libXtst libgcc libstdc++ libxcb libibverbs libasan liblsan librdmacm make policycoreutils policycoreutils-python-utils smartmontools sysstat libnsl2 net-tools nfs-utils); echo -e "\033[1;34m=== Total RHEL 8 packages required: ${#REQUIRED_PACKAGES[@]} ===\033[0m"; echo -e "\033[1;35m=== Additional RHEL 8 packages included: ===\033[0m"; echo -e "\033[1;35m===   - libnsl2 (for Oracle Database Client) ===\033[0m"; echo -e "\033[1;35m===   - net-tools (for Oracle RAC and Clusterware) ===\033[0m"; echo -e "\033[1;35m===   - nfs-utils (for Oracle ACFS) ===\033[0m"; echo -e "\033[1;35m=== Optional packages (if available): ===\033[0m"; echo -e "\033[1;35m===   - ipmiutil (for IPMI support) ===\033[0m"; echo -e "\033[1;35m===   - libnsl2-devel (for Oracle Database Client development) ===\033[0m"; elif [ "${OS_MAJOR_VERSION}" == "9" ]; then echo -e "\033[1;36m=== Installing Oracle 26AI prerequisite packages for RHEL 9 (Official Oracle List) ===\033[0m"; REQUIRED_PACKAGES=(bc binutils compat-openssl11 elfutils-libelf fontconfig glibc glibc-devel glibc-headers ksh libaio libasan liblsan libX11 libXau libXi libXrender libXtst libxcrypt-compat libgcc libibverbs librdmacm libstdc++ libxcb libvirt-libs make policycoreutils policycoreutils-python-utils smartmontools sysstat libnsl2 net-tools nfs-utils); echo -e "\033[1;34m=== Total RHEL 9 packages required: ${#REQUIRED_PACKAGES[@]} ===\033[0m"; echo -e "\033[1;35m=== Additional RHEL 9 packages included: ===\033[0m"; echo -e "\033[1;35m===   - libnsl2 (for Oracle Database Client) ===\033[0m"; echo -e "\033[1;35m===   - net-tools (for Oracle RAC and Clusterware) ===\033[0m"; echo -e "\033[1;35m===   - nfs-utils (for Oracle ACFS) ===\033[0m"; echo -e "\033[1;35m=== Optional packages (if available): ===\033[0m"; echo -e "\033[1;35m===   - ipmiutil (for IPMI support) ===\033[0m"; echo -e "\033[1;35m===   - libnsl2-devel (for Oracle Database Client development) ===\033[0m"; else echo -e "\033[1;31m=== ERROR: Unsupported OS major version: ${OS_MAJOR_VERSION} ===\033[0m"; exit 1; fi; echo -e "\033[1;36m=== Checking package installation status ===\033[0m"; PACKAGES_TO_INSTALL=(); ALREADY_INSTALLED=(); INSTALL_COUNT=0; SKIP_COUNT=0; for pkg in "${REQUIRED_PACKAGES[@]}"; do if rpm -q "$pkg" &>/dev/null; then echo -e "\033[1;32m=== SKIP: ${pkg} is already installed ===\033[0m"; ALREADY_INSTALLED+=("$pkg"); SKIP_COUNT=$((SKIP_COUNT + 1)); else echo -e "\033[1;34m=== NEED: ${pkg} will be installed ===\033[0m"; PACKAGES_TO_INSTALL+=("$pkg"); INSTALL_COUNT=$((INSTALL_COUNT + 1)); fi; done; echo -e "\033[1;36m=== Checking optional packages ===\033[0m"; OPTIONAL_TO_INSTALL=(); OPTIONAL_INSTALLED=(); for pkg in "${OPTIONAL_PACKAGES[@]}"; do if rpm -q "$pkg" &>/dev/null; then echo -e "\033[1;32m=== SKIP: ${pkg} (optional) is already installed ===\033[0m"; OPTIONAL_INSTALLED+=("$pkg"); SKIP_COUNT=$((SKIP_COUNT + 1)); else if dnf list available "$pkg" &>/dev/null; then echo -e "\033[1;34m=== NEED: ${pkg} (optional) will be installed ===\033[0m"; PACKAGES_TO_INSTALL+=("$pkg"); INSTALL_COUNT=$((INSTALL_COUNT + 1)); else echo -e "\033[1;33m=== INFO: ${pkg} (optional) is not available in repositories ===\033[0m"; fi; fi; done; echo -e "\033[1;36m=== Package Summary: ${SKIP_COUNT} packages already installed, ${INSTALL_COUNT} packages to be installed ===\033[0m"; if [ ${INSTALL_COUNT} -eq 0 ]; then echo -e "\033[1;32m=== All packages are already installed! ===\033[0m"; else echo -e "\033[1;36m=== Installing ${INSTALL_COUNT} missing packages ===\033[0m"; for pkg in "${PACKAGES_TO_INSTALL[@]}"; do echo -e "\033[1;34m=== Installing ${pkg} ===\033[0m"; if ! dnf install -y -q "${pkg}" 2>/dev/null; then echo -e "\033[1;31m=== ERROR: Failed to install package ${pkg} ===\033[0m"; exit 1; fi; done; echo -e "\033[1;32m=== Package installation phase completed ===\033[0m"; fi; echo -e "\033[1;36m=== Validating installed packages ===\033[0m"; VALIDATION_FAILED=0; MISSING_PACKAGES=(); for pkg in "${REQUIRED_PACKAGES[@]}"; do if rpm -q "$pkg" &>/dev/null; then echo -e "=== \033[32mPASS\033[0m: $pkg is installed ==="; else echo -e "=== \033[31mFAIL\033[0m: $pkg is NOT installed ==="; MISSING_PACKAGES+=("$pkg"); VALIDATION_FAILED=1; fi; done; MISSING_OPTIONAL=(); for pkg in "${OPTIONAL_PACKAGES[@]}"; do if rpm -q "$pkg" &>/dev/null; then echo -e "=== \033[32mPASS\033[0m: $pkg (optional) is installed ==="; else echo -e "=== \033[33mINFO\033[0m: $pkg (optional) is NOT installed ==="; MISSING_OPTIONAL+=("$pkg"); fi; done; if dnf list installed libibverbs &>/dev/null || dnf list installed mlnx-ofa_kernel &>/dev/null || rpm -q mlnx-ofa_kernel &>/dev/null; then echo -e "=== \033[32mPASS\033[0m: libibverbs is installed (via mlnx-ofa_kernel or standard package) ==="; else echo -e "=== \033[33mWARNING\033[0m: libibverbs not found (may be provided by RDMA drivers) ==="; fi; if dnf list installed librdmacm &>/dev/null || dnf list installed mlnx-ofa_kernel &>/dev/null || rpm -q mlnx-ofa_kernel &>/dev/null; then echo -e "=== \033[32mPASS\033[0m: librdmacm is installed (via mlnx-ofa_kernel or standard package) ==="; else echo -e "=== \033[33mWARNING\033[0m: librdmacm not found (may be provided by RDMA drivers) ==="; fi; if [ ${VALIDATION_FAILED} -eq 1 ]; then echo -e "\033[1;31m=== ERROR: Package validation failed. Missing required packages: ${MISSING_PACKAGES[*]} ===\033[0m"; exit 1; fi; if [ ${#MISSING_OPTIONAL[@]} -gt 0 ]; then echo -e "\033[1;33m=== INFO: Missing optional packages: ${MISSING_OPTIONAL[*]} ===\033[0m"; echo -e "\033[1;33m=== INFO: Optional packages are not critical for basic Oracle Database installation ===\033[0m"; fi; echo -e "\033[1;32m=== All required packages validated successfully ===\033[0m"; echo -e "\033[1;36m=== Validating kernel parameters per Oracle 26AI requirements ===\033[0m"; PARAM_VALIDATION_FAILED=0; for param in "/proc/sys/kernel/sem:250 32000 100 128" "/proc/sys/kernel/shmmax:4294967296" "/proc/sys/kernel/shmmni:4096" "/proc/sys/kernel/shmall:2097152" "/proc/sys/fs/file-max:6815744" "/proc/sys/fs/aio-max-nr:1048576" "/proc/sys/net/ipv4/ip_local_port_range:9000 65500" "/proc/sys/net/core/rmem_default:262144" "/proc/sys/net/core/rmem_max:4194304" "/proc/sys/net/core/wmem_default:262144" "/proc/sys/net/core/wmem_max:1048576"; do param_path=$(echo "$param" | cut -d: -f1); expected_value=$(echo "$param" | cut -d: -f2- | xargs); actual_value=$(cat "$param_path" 2>/dev/null | xargs); if [ -z "$actual_value" ]; then echo -e "=== \033[31mFAIL\033[0m: Cannot read $param_path ==="; PARAM_VALIDATION_FAILED=1; continue; fi; if [[ "$param_path" == "/proc/sys/kernel/sem" ]]; then IFS=" " read -ra expected_arr <<< "$expected_value"; IFS=" " read -ra actual_arr <<< "$actual_value"; if [[ ${actual_arr[0]} -ge ${expected_arr[0]} && ${actual_arr[1]} -ge ${expected_arr[1]} && ${actual_arr[2]} -ge ${expected_arr[2]} && ${actual_arr[3]} -ge ${expected_arr[3]} ]]; then echo -e "=== \033[32mPASS\033[0m: $param_path is $actual_value (Oracle required: >=$expected_value) ==="; else echo -e "=== \033[31mFAIL\033[0m: $param_path is $actual_value (Oracle required: >=$expected_value) ==="; PARAM_VALIDATION_FAILED=1; fi; elif [[ "$param_path" =~ (shmmax|shmall|file-max|aio-max-nr|rmem_max|wmem_max) ]]; then if [[ $actual_value -ge $expected_value ]]; then echo -e "=== \033[32mPASS\033[0m: $param_path is $actual_value (Oracle required: >=$expected_value) ==="; else echo -e "=== \033[31mFAIL\033[0m: $param_path is $actual_value (Oracle required: >=$expected_value) ==="; PARAM_VALIDATION_FAILED=1; fi; elif [[ "$param_path" == "/proc/sys/net/ipv4/ip_local_port_range" ]]; then IFS=" " read -ra expected_arr <<< "$expected_value"; IFS=" " read -ra actual_arr <<< "$actual_value"; if [[ ${actual_arr[0]} -le ${expected_arr[0]} && ${actual_arr[1]} -ge ${expected_arr[1]} ]]; then echo -e "=== \033[32mPASS\033[0m: $param_path is $actual_value (Oracle required: min_port<=${expected_arr[0]}, max_port>=${expected_arr[1]}) ==="; else echo -e "=== \033[31mFAIL\033[0m: $param_path is $actual_value (Oracle required: min_port<=${expected_arr[0]}, max_port>=${expected_arr[1]}) ==="; PARAM_VALIDATION_FAILED=1; fi; elif [[ "$actual_value" -ge "$expected_value" ]]; then echo -e "=== \033[32mPASS\033[0m: $param_path is $actual_value (Oracle required: >=$expected_value) ==="; else echo -e "=== \033[31mFAIL\033[0m: $param_path is $actual_value (Oracle required: $expected_value) ==="; PARAM_VALIDATION_FAILED=1; fi; done; if [ ${PARAM_VALIDATION_FAILED} -eq 1 ]; then echo -e "\033[1;31m=== ERROR: Kernel parameter validation failed ===\033[0m"; exit 1; fi; echo -e "\033[1;32m=== All kernel parameters validated successfully ===\033[0m"; echo -e "\033[1;36m=== Validating PAM configuration ===\033[0m"; PAM_FILE="/etc/pam.d/system-auth"; if grep -q "pam_limits.so" "${PAM_FILE}"; then echo -e "=== \033[32mPASS\033[0m: ${PAM_FILE} has pam_limits.so configured ==="; else echo -e "=== \033[31mFAIL\033[0m: ${PAM_FILE} missing pam_limits.so ==="; exit 1; fi; echo -e "\033[1;36m=== Validating Oracle user limits per Oracle 26AI requirements ===\033[0m"; if ! id oracle &>/dev/null; then echo -e "\033[1;31m=== FAIL: Oracle user does not exist ===\033[0m"; exit 1; fi; ULIMIT_VALIDATION_FAILED=0; su - oracle -c "[[ \$(ulimit -Sn) -eq 1024 ]] && echo -e \"=== \033[32mPASS\033[0m: Soft nofile: 1024 (Oracle required: 1024) ===\" || { echo -e \"=== \033[31mFAIL\033[0m: Soft nofile: \$(ulimit -Sn) (Oracle required: 1024) ===\"; exit 1; }; [[ \$(ulimit -Hn) -eq 65536 ]] && echo -e \"=== \033[32mPASS\033[0m: Hard nofile: 65536 (Oracle required: 65536) ===\" || { echo -e \"=== \033[31mFAIL\033[0m: Hard nofile: \$(ulimit -Hn) (Oracle required: 65536) ===\"; exit 1; }; [[ \$(ulimit -Su) -eq 16384 ]] && echo -e \"=== \033[32mPASS\033[0m: Soft nproc: 16384 (Oracle required: 16384) ===\" || { echo -e \"=== \033[31mFAIL\033[0m: Soft nproc: \$(ulimit -Su) (Oracle required: 16384) ===\"; exit 1; }; [[ \$(ulimit -Hu) -eq 16384 ]] && echo -e \"=== \033[32mPASS\033[0m: Hard nproc: 16384 (Oracle required: 16384) ===\" || { echo -e \"=== \033[31mFAIL\033[0m: Hard nproc: \$(ulimit -Hu) (Oracle required: 16384) ===\"; exit 1; }; [[ \$(ulimit -Ss) -eq 10240 ]] && echo -e \"=== \033[32mPASS\033[0m: Soft stack: 10240 (Oracle required: 10240) ===\" || { echo -e \"=== \033[31mFAIL\033[0m: Soft stack: \$(ulimit -Ss) (Oracle required: 10240) ===\"; exit 1; }; [[ \$(ulimit -Hs) -eq 32768 ]] && echo -e \"=== \033[32mPASS\033[0m: Hard stack: 32768 (Oracle required: 32768) ===\" || { echo -e \"=== \033[31mFAIL\033[0m: Hard stack: \$(ulimit -Hs) (Oracle required: 32768) ===\"; exit 1; }" || ULIMIT_VALIDATION_FAILED=1; if [ ${ULIMIT_VALIDATION_FAILED} -eq 1 ]; then echo -e "\033[1;31m=== ERROR: Oracle user ulimit validation failed ===\033[0m"; exit 1; fi; echo -e "\033[1;32m=== All Oracle user limits validated successfully ===\033[0m"; echo -e "\033[1;32m=== Oracle 26AI Prerequisites Installation and Validation Completed Successfully ===\033[0m"; echo -e "\033[1;36m=== All requirements verified against Oracle official documentation ===\033[0m"; if [ ${#MISSING_OPTIONAL[@]} -gt 0 ]; then echo -e "\033[1;33m=== NOTE: Some optional packages were not available: ${MISSING_OPTIONAL[*]} ===\033[0m"; echo -e "\033[1;33m=== These packages are only needed for specific features (IPMI, Client development) ===\033[0m"; fi'
```

### Step 4: Install Oracle 26AI Database

Install the Oracle 26AI database software:
```bash
dnf install oracle-ai-database-ee-26ai
```

## Next Steps

After completing the installation, you can now use DBCA (Database Configuration Assistant) to create and configure your Oracle 26AI database as needed.
